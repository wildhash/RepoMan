# RepoMan environment variables
#
# Setup:
# 1) Copy this file to `.env`
# 2) Fill in the values you need
#
# Security:
# - Never commit `.env` to git.
# - Prefer short-lived, least-privilege tokens.

# LLM API keys (required only for the agent council / transform pipeline)
REPOMAN_ANTHROPIC_API_KEY=your-anthropic-api-key-here
REPOMAN_OPENAI_API_KEY=your-openai-api-key-here

# GitHub ingestion
# Required for higher rate limits (and for private repos). For public repos you can
# often omit this, but you'll hit GitHub's unauthenticated rate limits quickly.
# Recommended: use the least-privilege PAT scopes that cover your use case.
# Examples: public_repo for public-only; repo (read) for private repos; read:org if needed.
REPOMAN_GITHUB_TOKEN=your-github-pat

# Safety cap: maximum issues/PRs to ingest per repository.
REPOMAN_GITHUB_ISSUE_INGEST_LIMIT=300

# Elasticsearch
# Local (docker-compose default)
REPOMAN_ELASTICSEARCH_URL=http://elasticsearch:9200

# Elastic Cloud (set these instead of URL if you're using a hosted cluster)
# Use an API key limited to the RepoMan indices (and ideally read/write only).
REPOMAN_ELASTICSEARCH_CLOUD_ID=
REPOMAN_ELASTICSEARCH_API_KEY=

# Embeddings
# Provider options:
# - hash: deterministic lightweight encoder (default; no extra deps)
# - sentence_transformers: requires installing `sentence-transformers` and will download a model
REPOMAN_EMBEDDING_PROVIDER=hash
REPOMAN_EMBEDDING_MODEL=all-MiniLM-L6-v2

# IMPORTANT: This must match the Elasticsearch mappings.
# If you change dims, you'll need to re-create indices and re-index.
REPOMAN_EMBEDDING_DIMS=384

# Optional overrides
REPOMAN_ORCHESTRATOR_MODEL=claude-sonnet-4-20250514
REPOMAN_ARCHITECT_MODEL=claude-sonnet-4-20250514
REPOMAN_AUDITOR_MODEL=gpt-4o
REPOMAN_BUILDER_MODEL=claude-sonnet-4-20250514

REPOMAN_MAX_CONSENSUS_ROUNDS=5
REPOMAN_CONSENSUS_THRESHOLD=7.0
REPOMAN_MAX_FILES_TO_PROCESS=200
REPOMAN_TIMEOUT_PER_PHASE_SECONDS=300

REPOMAN_SANDBOX_ENABLED=true
REPOMAN_LEARNING_ENABLED=true
REPOMAN_KNOWLEDGE_BASE_PATH=./repoman_knowledge

REPOMAN_API_HOST=0.0.0.0
REPOMAN_API_PORT=8000
